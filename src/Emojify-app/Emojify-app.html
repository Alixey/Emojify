<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/paper-input/paper-textarea.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-tooltip/paper-tooltip.html">
<link rel="import" href="../../bower_components/cbn-copy-clipboard/cbn-copy-clipboard.html">
<link rel="import" href="validation-element.html">
<link rel="stylesheet" href="../../styles/style.css">
<script src="scripts.js"></script>

<dom-module id="Emojify-app">
    <template>
    <style>
      :host {
        display: block;
      }
    </style>
    <img src="../../images/title.png" class="img"></img>
    <div class="center">
        <p class="grey">Converts text to emojis. Made for <a href = "https://discordapp.com/" target = "_blank" class="link"><paper-button raised class="discord">Discord</paper-button></a></p>
        <paper-textarea label="Input" id="inputbox" on-keyup="keyUp"></paper-textarea>
        <div class="mid">
            <paper-input label= "Replace spaces (optional)" id="replace" on-keyup="keyUp"></paper-input>
            <paper-button toggles raised class="cap" on-click="keyUp" id="cap">cap ends</paper-button>
            <paper-tooltip for="cap">Cap each end of the message with the supplied replace text.</paper-tooltip>
        </div>
        <validation-element></validation-element>
        <div class="center">
            <cbn-copy-clipboard id="clip" value="copy">
                <paper-button on-click="setVal" raised class="copy">Copy</papper-button>
            </cbn-copy-clipboard>
        </div>

    </div>

  </template>

    <script>
        Polymer({

            is: 'Emojify-app',

            keyUp: function(e) {
                document.getElementById("output").value = Emojify(document.getElementById("inputbox").value, document.getElementById("replace").value, document.getElementById("cap").active);
            },
            setVal: function() {
                var text = document.getElementById("output").value;
                if (text.length > 0) {
                    document.getElementById("clip").value = text;
                }
            }
        });
    </script>
</dom-module>
